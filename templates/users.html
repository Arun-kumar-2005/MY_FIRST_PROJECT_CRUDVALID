{% extends "base.html" %}
{% block content %}
<h2>Users</h2>

<form method="POST">
    <input type="text" name="name" placeholder="User Name" required>
    <input type="email" name="email" placeholder="User Email" required>
    <input type="password" name="password" placeholder="Password" required>
    <select name="company_id" required>
        <option value="">Select Company</option>
        {% for company in companies %}
            <option value="{{ company.id }}">{{ company.name }}</option>
        {% endfor %}
    </select>
    <button type="submit" class="btn btn-primary">Add User</button>
</form>

<h3>Existing Users</h3>
<ul class="user-list">
  {% for user in users %}
    <li class="user-item">
      <div class="user-info">
        {{ user.name }} ({{ user.email }}) - Company: {{ user.company }}
      </div>
      <div class="user-actions">
        <form action="{{ url_for('delete_user', user_id=user.id) }}" method="POST" class="inline-form">
          <button type="submit" class="btn btn-danger btn-sm"
            onclick="return confirm('Are you sure you want to delete this user?');">
            Delete
          </button>
        </form>
      </div>
    </li>
  {% endfor %}
</ul>
{% endblock %}
